<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cho thuê xe ô tô</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Javanese+Text&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" th:href="@{/assets/index.css}">
    <link rel="stylesheet" th:href="@{/assets/header.css}">
</head>

<body>

    <div th:replace="fragments/header :: header"></div>

    <section class="hero-section">
    <div class="hero">
        <div class="row" >
            <!-- Bên trái -->
            <div class="col-md-6 d-flex flex-column justify-content-center align-items-center text-center">
                <h1 class="hero-title" style="font-family: 'Roboto', sans-serif; letter-spacing: 0.5px;">Xin chào</h1>
                <p class="hero-decs">Hệ thống cho thuê xe ô tô toàn quốc</p>
                <p>Chúng tôi cung cấp dịch vụ cho thuê xe ô tô uy tín, nhanh chóng và tiện lợi trên toàn quốc. Với đa dạng dòng xe từ phổ thông đến cao cấp, hệ thống đặt xe thông minh và đội ngũ hỗ trợ tận tâm, bạn có thể dễ dàng thuê xe mọi lúc, mọi nơi cho công việc, du lịch hay sự kiện.</p>
            </div>

            <!-- Bên phải -->
            <div class="col-md-6 p-0">
                <img src="./img/Road Trip_edited_edited.jpg" class="img-fluid w-100" style="height: 100vh; object-fit: cover; border-radius: 15px;">
            </div>
        </div>
    </div>
</section>

    <!-- Services Section -->
    <hr class="my-5">
    <section class="services text-center mt-5" id="service">
        <h3 class="hero-title" style="font-family: 'Roboto', sans-serif; letter-spacing: 0.5px">Dịch vụ</h3>
        <div class="container">
            <div class="row">
                <!-- Left Column: Description and Button -->
                <div class="col-md-6 d-flex flex-column justify-content-center align-items-start text-start">
                    <h2 class="service-title">Cung cấp dịch vụ hàng đầu với chất lượng tốt nhất.</h2>
                    <p class="service-desc">
                        "Để đạt được sự hài lòng tối đa, chúng tôi luôn nỗ lực không ngừng để mang đến trải nghiệm tuyệt vời nhất cho khách hàng. Chúng tôi cam kết cung cấp dịch vụ tận tâm, chuyên nghiệp và đáng tin cậy nhằm đáp ứng mọi nhu cầu của bạn. Hãy tận hưởng dịch vụ đẳng cấp, nơi bạn luôn là ưu tiên hàng đầu."
                    </p>
                </div>

                <div class="col-md-6">
                    <div id="service-list" style="min-height: 750px;">
                        <div th:replace="fragments/service_list_fragment :: serviceList(${services}, ${totalPages})"></div>
                    </div>

                    <div class="pagination mt-3 d-flex justify-content-center">
                        <button class="btn btn-secondary me-2" id="prev-btn" onclick="changePage(-1)">Trước</button>
                        <span id="page-info">Trang 1</span>
                        <button class="btn btn-secondary ms-2" id="next-btn" onclick="changePage(1)">Sau</button>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- Our Fleet Section -->
    <hr class="my-5">
    <section class="fleet-section container py-5" id="car">
        <h1 class="text-center hero-title mt-5 mb-4" style="font-family: 'Roboto', sans-serif; letter-spacing: 0.5px">Danh mục xe</h1>
        <input type="hidden" id="totalCarPagesHidden" th:attr="data-total-pages=${totalCarPages}" />

        <div class="card shadow-sm mb-4 p-4">
            <div class="row g-3">
                <div class="col-md-3">
                    <label for="filter-brand" class="form-label mb-3 fw-bold">Thương hiệu</label>
                    <select id="filter-brand" class="form-select">
                        <option value="">Tất cả</option>
                        <th:block th:each="brand : ${brandList}">
                            <option th:value="${brand}" th:text="${brand}"></option>
                        </th:block>
                    </select>
                </div>
                <div class="col-md-3">
                    <label for="filter-seat" class="form-label mb-3 fw-bold">Số chỗ</label>
                    <select id="filter-seat" class="form-select">
                        <option value="">Tất cả</option>
                        <th:block th:each="seat : ${seatList}">
                            <option th:value="${seat}" th:text="${seat} + ' chỗ'"></option>
                        </th:block>
                    </select>
                </div>
                <div class="col-md-3">
                    <label for="filter-price" class="form-label mb-3 fw-bold">Giá (VNĐ/ngày)</label>
                    <select id="filter-price" class="form-select">
                        <option value="">Tất cả</option>
                        <option value="0-500000">Dưới 500.000đ</option>
                        <option value="500000-1000000">500.000đ - 1.000.000đ</option>
                        <option value="1000000-9999999">Trên 1.000.000đ</option>
                    </select>
                </div>
                <div class="col-md-3 d-flex align-items-end">
                    <button class="btn btn-primary w-100" onclick="applyCarFilter()">Lọc ngay</button>
                </div>
            </div>
        </div>

        <div id="car-list" style="min-height: 1500px;" th:insert="~{fragments/car_list_fragment :: carList(${cars}, ${totalCarPages})}"></div>

        <div class="pagination mt-4 d-flex justify-content-center">
            <button class="btn btn-secondary me-2" id="prev-car-btn" onclick="changeCarPage(-1)">Trước</button>
            <span id="car-page-info">Trang 1</span>
            <button class="btn btn-secondary ms-2" id="next-car-btn" onclick="changeCarPage(1)">Sau</button>
        </div>
    </section>

    <!-- Car Details Modal -->
    <div class="modal fade" id="carRentalModal" tabindex="-1">
        <div class="modal-dialog modal-custom modal-xl">
            <div class="modal-content">
                <div class="modal-body p-0">
                    <div class="row g-0">

                        <!-- Left Column: Car Image -->
                        <div class="col-md-6 position-relative">
                            <img id="car-image" src="./img/bimlogo.jpg" alt="Car Image" class="car-image p-3 w-100">
                        </div>

                        <!-- Middle Column: Rental Details -->
                        <div class="col-md-3 car-details border-end">
                            <h2 class="fw-bold" id="car-name">TOYOTA LAND CRUISER</h2>
                            <p class="text-muted mb-3" id="car-price">$810 per day*</p>

                            <div class="mb-3">
                                <div class="mb-3">
                                    <label for="startDate" class="form-label">Ngày nhận</label>
                                    <input type="date" class="form-control" id="startDate" name="startDate">
                                </div>
                                <div class="mb-3">
                                    <label for="endDate" class="form-label">Ngày trả</label>
                                    <input type="date" class="form-control" id="endDate" name="endDate">
                                </div>
                            </div>


                            <h5 class="mb-3">Dịch vụ đi kèm</h5>
                            <select class="form-select" name="service" id="services">
                                <option value="none" selected>Không dịch vụ</option>
                                <th:block th:each="s : ${services}">
                                    <option th:value="${s.getId()}" th:text="${s.getNameService()}"></option>
                                </th:block>
                            </select>

                        </div>

                        <!-- Right Column: Car Details -->
                        <div class="col-md-3 car-details">
                            <div class="car-details">
                                <h3 class="mb-3">Chi tiết:</h3>
                                <div class="mb-2">
                                    <span class="car-info-label">Engine:</span>
                                    <span id="car-engine">3.5L V6 Twin - Turbo</span>
                                </div>
                                <div class="mb-2">
                                    <span class="car-info-label">Seat:</span>
                                    <span id="car-seat">7 seats</span>
                                </div>
                                <div class="mb-2">
                                    <span class="car-info-label">Model:</span>
                                    <span id="car-model">Toyota Land Cruiser (2022)</span>
                                </div>
                                <div class="mb-2">
                                    <span class="car-info-label">Body style:</span>
                                    <span id="car-style">5-door style</span>
                                </div>
                            </div>
                            <div style="text-align: center;">
                                <a id="bookNowBtn" href="#" class="btn btn-primary">Chọn đặt</a>
                            </div>
                        </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Section -->
    <section class="contact mt-5" id="contactid">
        <div class="container" >
            <div class="row">
                <div class="col-md-4 text-center">
                    <h3>Địa chỉ</h3>
                    <p>Số 1 Võ Văn Ngân, Linh Chiểu, Thủ Đức, TPHCM</p>
                </div>
                <div class="col-md-4 text-center">
                    <h3>Thông tin liên hệ</h3>
                    <p>Email: kietdobi3300@gmail.com</p>
                    <p>Phone: +84 356 146 325</p>
                </div>
                <div class="col-md-4 text-center">
                    <h3>Chính sách</h3>
                    <p>Bảo hiểm</p>
                    <p>Hoàn tiền, huỷ đơn</p>
                    <p>Bảo hành dịch vụ</p>
                </div>
            </div>
            <div class="map mt-4">
                <!-- Placeholder for Google Maps -->
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d4439.782300867072!2d106.70243669999999!3d10.7916869!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x317528b5a9d00001%3A0x875bb9add2fac11e!2sIndochina%20Park%20Tower!5e1!3m2!1svi!2s!4v1742973530724!5m2!1svi!2s" 
                        width="100%" 
                        height="450" 
                        style="border:0;" 
                        allowfullscreen="" 
                        loading="lazy" 
                        referrerpolicy="no-referrer-when-downgrade">
                </iframe>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-dark text-white text-center py-3 mt-5">
        <p>&copy; 2025 Miho Car Rental. All Rights Reserved.</p>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        fetch('/header.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('header').innerHTML = data;
            });
    </script>

    <script src="./assets/js/index.js"></script>
    <script src="./assets/js/fleet.js"></script>
    <script src="./assets/js/fragment.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            loadServices(0); // Gọi ban đầu
        });
    </script>
</body>
</html>